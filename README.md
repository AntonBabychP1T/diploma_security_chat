# Secure LLM Chat & Assistant

–¶–µ–π –ø—Ä–æ–µ–∫—Ç ‚Äî —Ü–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –∑ –≤–µ–ª–∏–∫–∏–º–∏ –º–æ–≤–Ω–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏ (LLM) —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è AI-–∞—Å–∏—Å—Ç–µ–Ω—Ç–∞ ("–°–µ–∫—Ä–µ—Ç–∞—Ä—è"). –ì–æ–ª–æ–≤–Ω–æ—é –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—é —î –∑–∞—Ö–∏—Å—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö (PII) —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —Ä–æ–±–æ—á–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ (–ø–æ—à—Ç–∞, –∫–∞–ª–µ–Ω–¥–∞—Ä).

## üöÄ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

*   **–ë–µ–∑–ø–µ—á–Ω–∏–π —á–∞—Ç (PII Masking):** –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏—è–≤–ª—è—î —Ç–∞ –º–∞—Å–∫—É—î —á—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ (email, —Ç–µ–ª–µ—Ñ–æ–Ω–∏, –Ω–æ–º–µ—Ä–∏ –∫–∞—Ä—Ç–æ–∫) –ø–µ—Ä–µ–¥ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é –∑–∞–ø–∏—Ç—É –¥–æ LLM. –í—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ –º–æ–¥–µ–ª—ñ "—Ä–æ–∑–º–∞—Å–∫—É—î—Ç—å—Å—è", –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∞–ª–µ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—á–∏ —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É AI.
*   **AI –°–µ–∫—Ä–µ—Ç–∞—Ä (Agentic Mode):** –†–æ–∑—É–º–Ω–∏–π –ø–æ–º—ñ—á–Ω–∏–∫, —è–∫–∏–π –º–æ–∂–µ –∫–µ—Ä—É–≤–∞—Ç–∏ –≤–∞—à–æ—é –ø–æ—à—Ç–æ—é —Ç–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º.
    *   –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ **Google Workspace** (Gmail, Calendar).
    *   –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ **Microsoft 365** (Outlook, Calendar).
    *   –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —á–∏—Ç–∞—Ç–∏ –ø–æ—à—Ç—É, —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ø–æ–¥—ñ—ó, –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ –ª–∏—Å—Ç–∏.
*   **–ú—É–ª—å—Ç–∏–º–æ–¥–µ–ª—å–Ω—ñ—Å—Ç—å:** –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤ AI:
    *   OpenAI (GPT-4, GPT-3.5 etc.)
    *   Google Gemini
*   **–î–æ–≤–≥–æ—Ç—Ä–∏–≤–∞–ª–∞ –ø–∞–º'—è—Ç—å:** –ê–≥–µ–Ω—Ç –∑–∞–ø–∞–º'—è—Ç–æ–≤—É—î –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–æ–∑–º–æ–≤ —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è –±—ñ–ª—å—à –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π.
*   **–ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è:**
    *   –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è (Email/Password).
    *   OAuth —á–µ—Ä–µ–∑ Google —Ç–∞ Microsoft.
*   **–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è:**
    *   –î–∞—à–±–æ—Ä–¥ –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –º–µ—Ç—Ä–∏–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
    *   –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —á–∞—Ç–∞–º–∏ —Ç–∞ —ñ—Å—Ç–æ—Ä—ñ—î—é.
*   **–ì–æ–ª–æ—Å–æ–≤–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è:** –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—ó –∞—É–¥—ñ–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

### Backend (–°–µ—Ä–≤–µ—Ä–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞)
*   **–ú–æ–≤–∞:** Python 3.x
*   **–§—Ä–µ–π–º–≤–æ—Ä–∫:** FastAPI (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π, –≤–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫).
*   **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** SQLite (–∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–º –¥–æ—Å—Ç—É–ø–æ–º —á–µ—Ä–µ–∑ `aiosqlite`).
*   **ORM:** SQLAlchemy 2.0.
*   **AI –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó:** OpenAi API, Google Generative AI SDK.
*   **–ë–µ–∑–ø–µ–∫–∞:** `python-jose` (JWT), `passlib` (—Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤), –∫–∞—Å—Ç–æ–º–Ω–∏–π –º–æ–¥—É–ª—å PII Masking.

### Frontend (–ö–ª—ñ—î–Ω—Ç—Å—å–∫–∞ —á–∞—Å—Ç–∏–Ω–∞)
*   **–§—Ä–µ–π–º–≤–æ—Ä–∫:** React (Vite).
*   **–ú–æ–≤–∞:** TypeScript.
*   **–°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è:** Tailwind CSS.
*   **UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:** Lucide React (—ñ–∫–æ–Ω–∫–∏), Recharts (–≥—Ä–∞—Ñ—ñ–∫–∏).
*   **–°—Ç–µ–π—Ç-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç:** React Context / Hooks.

## ‚öôÔ∏è –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –ø–æ –∑–∞–ø—É—Å–∫—É

–î–ª—è –∑–∞–ø—É—Å–∫—É –≤–∞–º –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π **Python** (–≤–µ—Ä—Å—ñ—ó 3.10+ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ) —Ç–∞ **Node.js** (–≤–µ—Ä—Å—ñ—ó 18+).

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Backend

1.  –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É –ø–∞–ø–∫—É `backend`:
    ```bash
    cd backend
    ```

2.  –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ):
    ```bash
    python -m venv venv
    # Windows
    venv\Scripts\activate
    # macOS/Linux
    source venv/bin/activate
    ```

3.  –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
    ```bash
    pip install -r requirements.txt
    ```

4.  –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:
    *   –°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª `.env.example` —É —Ñ–∞–π–ª `.env`.
    *   –í—ñ–¥–∫—Ä–∏–π—Ç–µ `.env` —Ç–∞ –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–ª—é—á—ñ (API Keys –¥–ª—è OpenAI/Gemini, –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ë–î —Ç–æ—â–æ).
    ```bash
    cp .env.example .env
    ```
    *–ü—Ä–∏–∫–ª–∞–¥ –≤–º—ñ—Å—Ç—É .env:*
    ```env
    OPENAI_API_KEY=sk-....
    GEMINI_API_KEY=...
    DATABASE_URL=sqlite+aiosqlite:///./chat.db
    # ... —ñ–Ω—à—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
    ```

5.  –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä:
    ```bash
    uvicorn app.main:app --reload
    ```
    –°–µ—Ä–≤–µ—Ä –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é: `http://localhost:8000`.
    –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API (Swagger UI): `http://localhost:8000/docs`.

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Frontend

1.  –í—ñ–¥–∫—Ä–∏–π—Ç–µ –Ω–æ–≤–∏–π —Ç–µ—Ä–º—ñ–Ω–∞–ª —Ç–∞ –ø–µ—Ä–µ–π–¥—ñ—Ç—å —É –ø–∞–ø–∫—É `frontend`:
    ```bash
    cd frontend
    ```

2.  –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
    ```bash
    npm install
    ```

3.  –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (—è–∫—â–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ):
    *   –ó–∞–∑–≤–∏—á–∞–π Vite –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—è–≥—É—î `.env` —Ñ–∞–π–ª–∏, –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ API URL –≤–∫–∞–∑–∞–Ω–æ –≤—ñ—Ä–Ω–æ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –º–æ–∂–µ –±—É—Ç–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –Ω–∞ `http://localhost:8000`).

4.  –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ä–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏:
    ```bash
    npm run dev
    ```
    –ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é, —è–∫—É –≤–∫–∞–∂–µ Vite (–∑–∞–∑–≤–∏—á–∞–π `http://localhost:5173`).

## üß† –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î (–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞)

1.  **–ó–∞–ø–∏—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ React-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
2.  **PII –°–µ—Ä–≤—ñ—Å:** –ù–∞ –±–µ–∫–µ–Ω–¥—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ `PIIService`. –†–µ–≥—É–ª—è—Ä–Ω—ñ –≤–∏—Ä–∞–∑–∏ —Ç–∞ –ª–æ–≥—ñ–∫–∞ –≤–∏–∑–Ω–∞—á–∞—é—Ç—å —á—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `test@email.com`) —ñ –∑–∞–º—ñ–Ω—é—é—Ç—å —ó—Ö –Ω–∞ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `{{EMAIL_1}}`).
3.  **LLM –û–±—Ä–æ–±–∫–∞:** "–û—á–∏—â–µ–Ω–∏–π" —Ç–µ–∫—Å—Ç –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –¥–æ –æ–±—Ä–∞–Ω–æ—ó –º–æ–¥–µ–ª—ñ (GPT-4, Gemini). –ú–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∏.
4.  **–í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è (Unmasking):** –û—Ç—Ä–∏–º–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –∑–≤–æ—Ä–æ—Ç–Ω—É –æ–±—Ä–æ–±–∫—É, –¥–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∏ –∑–∞–º—ñ–Ω—é—é—Ç—å—Å—è –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ, —è–∫—â–æ —Ü–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ (–∞–±–æ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è, —è–∫—â–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–æ–∑–≤–æ–ª—è—î).
5.  **–ê–≥–µ–Ω—Ç (–°–µ–∫—Ä–µ—Ç–∞—Ä):** –Ø–∫—â–æ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ —Ä–µ–∂–∏–º –∞–≥–µ–Ω—Ç–∞, –∑–∞–ø–∏—Ç –∞–Ω–∞–ª—ñ–∑—É—î—Ç—å—Å—è –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –∫–æ–º–∞–Ω–¥ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "—Å—Ç–≤–æ—Ä–∏ –∑—É—Å—Ç—Ä—ñ—á"). –Ø–∫—â–æ –Ω–∞–º—ñ—Ä —Ä–æ–∑–ø—ñ–∑–Ω–∞–Ω–æ, –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ (`GoogleWorkspace`, `MicrosoftGraph`) –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥—ñ—ó —á–µ—Ä–µ–∑ API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.
6.  **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è:** –Ü—Å—Ç–æ—Ä—ñ—è —á–∞—Ç—É —Ç–∞ –≤–µ–∫—Ç–æ—Ä–∏ –ø–∞–º'—è—Ç—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö SQLite.

---
*–†–æ–∑—Ä–æ–±–ª–µ–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö –¥–∏–ø–ª–æ–º–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É.*
